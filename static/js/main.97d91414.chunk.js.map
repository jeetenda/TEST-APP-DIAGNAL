{"version":3,"sources":["component/progressiveimage.js","component/imagecard.js","actions/types.js","actions/index.js","component/searchinput.js","App.js","reducers/index.js","reducers/reducer.js","index.js"],"names":["ProgressiveImg","_ref","placeholderSrc","src","props","_objectWithoutProperties","_excluded","_useState","useState","_useState2","_slicedToArray","imgSrc","setImgSrc","useEffect","img","Image","onload","React","createElement","Object","assign","loading","_objectSpread","alt","className","Imagecard","poster","Fragment","name","FETCH_DATA_API","fetchDataAPI","page","dispatch","getState","axios","get","then","response","data","store","payload","console","log","contentitems","content","concat","_toConsumableArray","type","fetchData","data1","data2","data3","getpage","catch","error","searchinput","serach","setSearch","searchByName","resetByBackbutton","onClick","placeholder","value","onChange","e","target","App","search","_useState3","_useState4","setData","useDispatch","storeData","useSelector","apiPage","_storeData$data3","_storeData$data3$page","window","onscroll","ev","innerHeight","scrollY","document","body","offsetHeight","Searchinput","_storeData$data","_storeData$data$page","_storeData$data$page$","searchresult","filter","obj","toLowerCase","includes","_storeData$data2","_storeData$data2$page","map","el","index","key","combineReducers","state","arguments","length","undefined","action","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","Provider","getElementById"],"mappings":"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","file":"static/js/main.97d91414.chunk.js","sourcesContent":["/*     Progressive Iamge will handle images lazy loading and not available images with placeholder image */\nimport React,{ useEffect, useState } from \"react\";\nconst ProgressiveImg = ({ placeholderSrc, src, ...props }) => {\n    const [imgSrc, setImgSrc] = useState(placeholderSrc || src);\n  \n    useEffect(() => {\n        const img = new Image();\n        img.src = src;\n        img.onload = () => {\n          setImgSrc(src);\n        };\n      }, [src]);\n  \n    return (\n      <img\n      loading=\"lazy\"\n        {...{ src: imgSrc , ...props }}\n        alt={props.alt || \"\"}\n        className=\"image fullimg\"\n      />\n    );\n  };\n  export default ProgressiveImg;","// image card with progressive image component\n\nimport React from 'react'\nimport ProgressiveImg from './progressiveimage'\n\nexport default function Imagecard({ poster }) {\n    const placeholderSrc = \"slices/placeholder_for_missing_posters.png\";\n    return (<>\n        <div className=\"max-w-sm column\">\n            <ProgressiveImg\n                src={\"Slices/\" + poster['poster-image']}\n                placeholderSrc={placeholderSrc}\n            />\n            <div className=\"p-1\">\n                <h6 className=\"text-grey\">{poster.name}</h6>\n            </div>\n        </div>\n    </>\n\n    )\n}\n","export const FETCH_DATA_API = \"FETCH_DATA_API\";\r\n","// will call dummy api with axiox but set data from assignment 3 data set \r\nimport { FETCH_DATA_API } from \"./types\";\r\nimport axios from \"axios\";\r\nimport data1 from '../apis/CONTENTLISTINGPAGE-PAGE1.json'\r\nimport data2 from '../apis/CONTENTLISTINGPAGE-PAGE2.json'\r\nimport data3 from '../apis/CONTENTLISTINGPAGE-PAGE3.json'\r\n\r\nconst apiUrl = \"\";\r\nexport const fetchData = (data, store) => {\r\n  // if store have image data adding next page data in array of store to update with new data\r\n  let payload = data;\r\n  if (store?.data) {\r\n    console.log(data.page.contentitems.content);\r\n    console.log(store.data.page.contentitems.content);\r\n    payload = {\r\n      ...store,\r\n      data: {\r\n        ...store.data,\r\n        page: {\r\n          ...store.data.page,\r\n          contentitems: {\r\n            ...store.data.page.contentitems,\r\n            content: [...store.data.page.contentitems.content,\r\n            ...data.page.contentitems.content\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }.data;\r\n    console.log(payload.page.contentitems.content);\r\n  }\r\n  return {\r\n    type: FETCH_DATA_API,\r\n    data: payload\r\n  };\r\n};\r\n\r\n// can avoid this but not using real api \r\nconst getpage = (page) => {\r\n  //console.log(page)\r\n  if (page === 1) return data1;\r\n  if (page === 2) return data2;\r\n  if (page === 3) return data3;\r\n}\r\n\r\n// calling api with page no send by app.js usedispatch call \r\nexport const fetchDataAPI = (page) => {\r\n  return (dispatch, getState) => {\r\n    return axios\r\n      .get(apiUrl)\r\n      .then(response => {\r\n        // const data = \"data\"+page;\r\n        // console.log(window[data])\r\n        dispatch(fetchData(getpage(page), getState()));\r\n      })\r\n      .catch(error => {\r\n        throw error;\r\n      });\r\n  };\r\n};\r\n","/*   header functionality back-bbutton and serach input   */\n\nimport React from 'react'\n\nexport default function searchinput({ serach, setSearch, searchByName, resetByBackbutton }) {\n    return (\n        <div className='search'>\n            <img src='Slices/Back.png' alt='' className='headerimg' onClick={resetByBackbutton} />\n            Romantic-Comedy\n            <input className=\"border-2 border-gray-300 h-10 px-5 rounded-lg focus:outline-none\"\n                type=\"search\"\n                name=\"search\"\n                placeholder=\"Search\"\n                value={serach}\n                onChange={(e) => setSearch(e.target.value)}\n            />\n            <img src='Slices/search.png' alt='' className='headerimg' onClick={searchByName} />\n\n        </div>\n    )\n}\n","import React, { useEffect, useState } from \"react\";\r\nimport Imagecard from \"./component/imagecard\";\r\nimport './styles.css'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchDataAPI } from './actions/index'\r\nimport Searchinput from \"./component/searchinput\";\r\n\r\nexport default function App() {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [data, setData] = useState(null);\r\n  const dispatch = useDispatch()\r\n  const storeData = useSelector((store) => store);\r\n  let apiPage=1;\r\n  \r\n  // search input by name \r\n  const searchByName = () => {\r\n    const searchresult = storeData?.data?.page?.['contentitems'].content?.filter((obj) => obj.name.toLowerCase().includes(search.toLowerCase()));\r\n    setData(searchresult);\r\n  }\r\n\r\n  // reset by back button \r\n  const resetByBackbutton = () => {\r\n    setData(storeData?.data?.page?.['contentitems'].content);\r\n  }\r\n  // on page load api call using useEffect hook\r\n  useEffect(() => {\r\n    if(storeData.data===null){\r\n      dispatch(fetchDataAPI(apiPage));\r\n\r\n    }\r\n    //console.log(storeData?.data?.page);\r\n\r\n    setData(storeData?.data?.page?.['contentitems'].content);\r\n  }, [storeData])\r\n\r\n// infinite scroll get extraa data from api call page1->page2 smooth svrolling enable \r\n  window.onscroll = function (ev) {\r\n    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\r\n      console.log(\"bottom scrolled here\",apiPage);\r\n     // apiPage=apiPage+1;\r\n      if(apiPage<=2){\r\n        apiPage++\r\n        dispatch(fetchDataAPI(apiPage));\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  return (<>\r\n    <Searchinput \r\n    serach={search} \r\n    setSearch={setSearch} \r\n    searchByName={searchByName} \r\n    resetByBackbutton={resetByBackbutton}\r\n     />\r\n    <div className=\" mx-auto main\">\r\n      {data?.map((el, index) => {\r\n        return <Imagecard key={index} poster={el} />\r\n      })}\r\n    </div>\r\n  </>\r\n  );\r\n}\r\n\r\n\r\n\r\n","import { combineReducers } from \"redux\";\r\nimport data from \"./reducer\";\r\n\r\nexport default combineReducers({\r\n  data: data\r\n});\r\n","import { FETCH_DATA_API } from \"../actions/types\";\r\n\r\nexport default function Reducer(state = null, action) {\r\n  switch (action.type) {\r\n    case FETCH_DATA_API:\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport rootReducer from \"./reducers\";\n//import { fetchGithubData } from \"./actions/index\";\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\n//store.dispatch(fetchGithubData());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}